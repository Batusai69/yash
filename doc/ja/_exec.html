<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 9.1.0" />
<title>Exec 組込みコマンド</title>
<link rel="stylesheet" href="./asciidoc.css" type="text/css" />


</head>
<body class="article">
<div id="header">
<h1>Exec 組込みコマンド</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p><dfn>Exec 組込みコマンド</dfn>はシェルのプロセスを別の外部コマンドに置き換えます。またシェルのプロセスに対してリダイレクトを実行します。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="syntax">構文</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<code>exec [-cf] [-a <var>コマンド名</var>] [<var>コマンド</var> [<var>引数</var>&#8230;]]</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>Exec コマンドでは、&#8203;<a href="posix.html">POSIX 準拠モード</a>であるかどうかにかかわらずオプションはオペランドより先に全て指定しなければなりません。これは exec コマンドに対するオプションと<var>コマンド</var>に対するオプションを区別するために重要です。<var>コマンド</var>より後にある引数はすべて<var>引数</var>とみなされます。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="description">説明</h2>
<div class="sectionbody">
<div class="paragraph"><p>Exec コマンドを<var>コマンド</var>を指定して実行すると、シェルは&#8203;<a href="exec.html#simple">単純コマンドの実行</a>の最後のステップと同様にしてコマンドを実行します。ただし、コマンドは必ず外部コマンドとしてみなされ、関数や組込みコマンドは無視します。そしてその外部コマンドはサブシェルではなく現在の&#8203;<a href="exec.html#environment">コマンド実行環境</a>で exec システムコールを呼び出すことで実行します。これにより、シェルのプロセスは新しく起動するコマンドに置き換わります。</p></div>
<div class="paragraph"><p>シェルが <a href="posix.html">POSIX 準拠モード</a>のときまたは&#8203;<a href="interact.html">対話モード</a>でないとき、コマンドの起動に失敗するとシェルは直ちに終了します。</p></div>
<div class="paragraph"><p>シェルが POSIX 準拠モードではなくかつ対話モードのとき、停止中のジョブがあると、シェルは警告を表示し、コマンドを起動しません。一度 exec が実行されると、シェルが持っているジョブの情報は失われるため、手動でシグナルを送ってジョブを再開または終了させなければならなくなります。警告を無視してコマンドを起動するには <code>-f</code> (<code>--force</code>) オプションを付けてください。</p></div>
<div class="paragraph"><p><var>コマンド</var>なしで実行した場合 exec コマンドは何も行いませんが、この exec コマンドを実行する際に行った&#8203;<a href="redir.html">リダイレクト</a>の効果は現在のコマンド実行環境に残ります。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="options">オプション</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
<code>-a <var>コマンド名</var></code>
</dt>
<dt class="hdlist1">
<code>--as=<var>コマンド名</var></code>
</dt>
<dd>
<p>
<var>コマンド</var>の代わりに<var>コマンド名</var>をコマンド名としてコマンドに渡します。
</p>
</dd>
<dt class="hdlist1">
<code>-c</code>
</dt>
<dt class="hdlist1">
<code>--clear</code>
</dt>
<dd>
<p>
既存の&#8203;<a href="params.html#variables">環境変数</a>をすべて削除した状態でコマンドを実行します。ただしこの exec コマンドを実行する際に行った変数代入の結果は環境変数としてコマンドに渡します。
</p>
</dd>
<dt class="hdlist1">
<code>-f</code>
</dt>
<dt class="hdlist1">
<code>--force</code>
</dt>
<dd>
<p>
警告を無視してコマンドを実行します。
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="operands">オペランド</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
<var>コマンド</var>
</dt>
<dd>
<p>
実行するコマンドです。
</p>
</dd>
<dt class="hdlist1">
<var>引数</var>&#8230;
</dt>
<dd>
<p>
実行するコマンドに渡すコマンドライン引数です。
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="exitstatus">終了ステータス</h2>
<div class="sectionbody">
<div class="paragraph"><p>指定されたコマンドの起動に成功した場合、シェルのプロセスはそのコマンドのプロセスに置き換わってしまうので、終了ステータスはありません。</p></div>
<div class="paragraph"><p>実行しようとしたコマンドが見つからなかった場合、終了ステータスは 127 です。コマンドが見つかったが実行できなかった場合、終了ステータスは 126 です。<var>コマンド</var>を指定せずに exec コマンドを実行した場合、終了ステータスは 0 です。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="notes">補足</h2>
<div class="sectionbody">
<div class="paragraph"><p>Exec コマンドは&#8203;<a href="builtin.html#types">特殊組込みコマンド</a>です。</p></div>
<div class="paragraph"><p>POSIX にはオプションに関する規定はありません。よってオプションは <a href="posix.html">POSIX 準拠モード</a>では使えません。</p></div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
 2023-04-22 01:39:14 JST
 更新
</div>
</div>
</body>
</html>
