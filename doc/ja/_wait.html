<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 10.2.0" />
<title>Wait 組込みコマンド</title>
<link rel="stylesheet" href="./asciidoc.css" type="text/css" />


</head>
<body class="article">
<div id="header">
<h1>Wait 組込みコマンド</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p><dfn>Wait 組込みコマンド</dfn>はバックグラウンドの&#8203;<a href="job.html">ジョブ</a>が終了するのを待ちます。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="syntax">構文</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<code>wait [<var>ジョブ</var>&#8230;]</code>
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="description">説明</h2>
<div class="sectionbody">
<div class="paragraph"><p>Wait コマンドは実行中のバックグラウンドジョブが終了するのを待ちます。&#8203;<a href="job.html">ジョブ制御</a>が有効な時は、ジョブが停止したときも終了したとみなします。</p></div>
<div class="paragraph"><p>Wait コマンドはジョブ制御が有効でないときでも&#8203;<a href="syntax.html#async">非同期コマンド</a>の終了を待つのに使えます。</p></div>
<div class="paragraph"><p>Wait コマンドの実行中にシェルがシグナルを受信した場合、そのシグナルに対し&#8203;<a href="_trap.html">トラップ</a>が設定してあればそのトラップを直ちに実行し wait コマンドはそのまま終了します。またジョブ制御が有効な場合、シェルが SIGINT シグナルを受信すると wait コマンドは中断されます。</p></div>
<div class="paragraph"><p>シェルが&#8203;<a href="interact.html">対話モード</a>で、&#8203;<a href="job.html">ジョブ制御</a>が有効で、非 <a href="posix.html">POSIX 準拠モード</a>のとき、ジョブが終了または停止した時にジョブの状態を出力します。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="operands">オペランド</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
<var>ジョブ</var>
</dt>
<dd>
<p>
終了を待つジョブ・非同期コマンドの&#8203;<a href="job.html#jobid">ジョブ ID</a> またはプロセス ID です。
</p>
</dd>
</dl></div>
<div class="paragraph"><p><var>ジョブ</var>を何も指定しないとシェルが有する全てのジョブ・非同期コマンドの終了を待ちます。</p></div>
<div class="paragraph"><p>存在しないジョブ・非同期コマンドを指定すると、終了ステータス 127 で既に終了したジョブを指定したものとみなし、エラーにはしません。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="exitstatus">終了ステータス</h2>
<div class="sectionbody">
<div class="paragraph"><p><var>ジョブ</var>が一つも与えられておらず、シェルが全てのジョブ・非同期コマンドの終了を正しく待つことができた場合、終了ステータスは 0 です。<var>ジョブ</var>が一つ以上与えられているときは、最後の<var>ジョブ</var>の終了ステータスが wait コマンドの終了ステータスになります。</p></div>
<div class="paragraph"><p>Wait コマンドがシグナルによって中断された場合、終了ステータスはそのシグナルを表す 128 以上の整数です。その他の理由で wait コマンドがジョブの終了を正しく待つことができなかった場合、終了ステータスは 1 以上 126 以下です。</p></div>
</div>
</div>
<div class="sect1">
<h2 id="notes">補足</h2>
<div class="sectionbody">
<div class="paragraph"><p>Wait コマンドは&#8203;<a href="builtin.html#types">必須組込みコマンド</a>です。</p></div>
<div class="paragraph"><p>非同期コマンドのプロセス ID は非同期コマンドを実行した直後に&#8203;<a href="params.html#special">特殊パラメータ <code>!</code></a> の値を見ることで知ることができます。ジョブ制御が有効なときは <a href="_jobs.html">jobs コマンド</a>でプロセス ID を調べることもできます。</p></div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
 2023-04-22 01:39:14 JST
 更新
</div>
</div>
</body>
</html>
