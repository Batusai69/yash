<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 10.2.0" />
<title>Umask built-in</title>
<link rel="stylesheet" href="./asciidoc.css" type="text/css" />


</head>
<body class="article">
<div id="header">
<h1>Umask built-in</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>The <dfn>umask built-in</dfn> sets or prints the file mode creation mask.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="syntax">Syntax</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<code>umask <var>mask</var></code>
</p>
</li>
<li>
<p>
<code>umask [-S]</code>
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="description">Description</h2>
<div class="sectionbody">
<div class="paragraph"><p>If executed without the <var>mask</var> operand, the built-in prints the current file
mode creation mask of the shell to the standard output in a form that can
later be used as <var>mask</var> to restore the current mask.</p></div>
<div class="paragraph"><p>Otherwise, the built-in sets the file mode creation mask to <var>mask</var>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="options">Options</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
<code>-S</code>
</dt>
<dt class="hdlist1">
<code>--symbolic</code>
</dt>
<dd>
<p>
Print in the symbolic form instead of the octal integer form.
</p>
</dd>
</dl></div>
</div>
</div>
<div class="sect1">
<h2 id="operands">Operands</h2>
<div class="sectionbody">
<div class="dlist"><dl>
<dt class="hdlist1">
<var>mask</var>
</dt>
<dd>
<p>
The new file mode creation mask either in the symbolic or octal integer form.
</p>
</dd>
</dl></div>
<div class="sect2">
<h3 id="_octal_integer_form">Octal integer form</h3>
<div class="paragraph"><p>In the octal integer form, the mask is specified as a non-negative octal
integer that is the sum of the following permissions:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
0400
</dt>
<dd>
<p>
read by owner
</p>
</dd>
<dt class="hdlist1">
0200
</dt>
<dd>
<p>
write by owner
</p>
</dd>
<dt class="hdlist1">
0100
</dt>
<dd>
<p>
execute/search by owner
</p>
</dd>
<dt class="hdlist1">
0040
</dt>
<dd>
<p>
read by group
</p>
</dd>
<dt class="hdlist1">
0020
</dt>
<dd>
<p>
write by group
</p>
</dd>
<dt class="hdlist1">
0010
</dt>
<dd>
<p>
execute/search by group
</p>
</dd>
<dt class="hdlist1">
0004
</dt>
<dd>
<p>
read by others
</p>
</dd>
<dt class="hdlist1">
0002
</dt>
<dd>
<p>
write by others
</p>
</dd>
<dt class="hdlist1">
0001
</dt>
<dd>
<p>
execute/search by others
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_symbolic_form">Symbolic form</h3>
<div class="paragraph"><p>In the symbolic form, the mask is specified as a symbolic expression that
denotes permissions that are <strong>not</strong> included in the mask.</p></div>
<div class="paragraph"><p>The entire expression is one or more <var>clause</var>s separated by comma.
A <var>clause</var> is a sequence of <var>who</var>s followed by one or more <var>action</var>s.</p></div>
<div class="paragraph"><p>A <var>who</var> is one of:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>u</code>
</dt>
<dd>
<p>
owner
</p>
</dd>
<dt class="hdlist1">
<code>g</code>
</dt>
<dd>
<p>
group
</p>
</dd>
<dt class="hdlist1">
<code>o</code>
</dt>
<dd>
<p>
others
</p>
</dd>
<dt class="hdlist1">
<code>a</code>
</dt>
<dd>
<p>
all of owner, group, and others
</p>
</dd>
</dl></div>
<div class="paragraph"><p>An empty sequence of <var>who</var>s is equivalent to who <code>a</code>.</p></div>
<div class="paragraph"><p>An <var>action</var> is an <var>operator</var> followed by <var>permission</var>.
An <var>operator</var> is one of:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>=</code>
</dt>
<dd>
<p>
set <var>who</var>'s permission to <var>permission</var>
</p>
</dd>
<dt class="hdlist1">
<code>&#43;</code>
</dt>
<dd>
<p>
add <var>permission</var> to <var>who</var>'s permission
</p>
</dd>
<dt class="hdlist1">
<code>-</code>
</dt>
<dd>
<p>
remove <var>permission</var> from <var>who</var>'s permission
</p>
</dd>
</dl></div>
<div class="paragraph"><p>and <var>permission</var> is one of:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>r</code>
</dt>
<dd>
<p>
read
</p>
</dd>
<dt class="hdlist1">
<code>w</code>
</dt>
<dd>
<p>
write
</p>
</dd>
<dt class="hdlist1">
<code>x</code>
</dt>
<dd>
<p>
execute/search
</p>
</dd>
<dt class="hdlist1">
<code>X</code>
</dt>
<dd>
<p>
execute/search (only if some user already has execute/search permission)
</p>
</dd>
<dt class="hdlist1">
<code>s</code>
</dt>
<dd>
<p>
set-user-ID and set-group-ID
</p>
</dd>
<dt class="hdlist1">
<code>u</code>
</dt>
<dd>
<p>
user&#8217;s current permissions
</p>
</dd>
<dt class="hdlist1">
<code>g</code>
</dt>
<dd>
<p>
group&#8217;s current permissions
</p>
</dd>
<dt class="hdlist1">
<code>o</code>
</dt>
<dd>
<p>
others' current permissions
</p>
</dd>
</dl></div>
<div class="paragraph"><p>but more than one of <code>r</code>, <code>w</code>, <code>x</code>, <code>X</code>, and <code>s</code> can be specified after a
single <var>operand</var>.</p></div>
<div class="paragraph"><p>For example, the command <code>umask u=rwx,go+r-w</code></p></div>
<div class="ulist"><ul>
<li>
<p>
unmasks the user&#8217;s read, write, and execute/search permissions;
</p>
</li>
<li>
<p>
unmasks the group&#8217;s and others' read permission; and
</p>
</li>
<li>
<p>
masks the group&#8217;s and others' write permission.
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="exitstatus">Exit status</h2>
<div class="sectionbody">
<div class="paragraph"><p>The exit status of the umask built-in is zero unless there is any error.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="notes">Notes</h2>
<div class="sectionbody">
<div class="paragraph"><p>The umask built-in is a <a href="builtin.html#types">mandatory built-in</a>.</p></div>
<div class="paragraph"><p>The POSIX standard does not require the default output format (used when the
<code>-S</code> option is not specified) to be the octal integer form.</p></div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated
 2023-04-22 01:39:14 JST
</div>
</div>
</body>
</html>
